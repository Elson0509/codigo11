(this.webpackJsonpfrontcrivo=this.webpackJsonpfrontcrivo||[]).push([[18],{213:function(e,a,t){"use strict";var r=t(1),l=t.n(r);a.a=Object(r.memo)((function(){return l.a.createElement("div",{className:"spinner"})}))},626:function(e,a,t){"use strict";t.r(a);var r=t(1),l=t.n(r),n=t(18),s=t(16),o=t(189),m=t(187),c=t(40),i=Object(n.e)((function(e){var a=Object(r.useState)(""),t=Object(s.a)(a,2),n=t[0],i=t[1],u=Object(r.useState)("ENTRAR"),d=Object(s.a)(u,2),p=d[0],b=d[1],g=m.a({email:m.c().email("Por favor, digite um formato de email v\xe1lido.").required("Por favor, digite um email."),password:m.c().required("Digite a senha.").min(6,"Pelo menos ${min} caracteres")}),E=Object(o.a)({initialValues:{email:"",password:""},onSubmit:function(a){b("ENTRANDO..."),i(""),c.a.post("/authenticate",a).then((function(a){localStorage.setItem("userToken",a.data.token),e.history.push("/dashboard")})).catch((function(e){i(e.response.data.message||"Login inv\xe1lido."),b("ENTRAR")}))},validationSchema:g});return l.a.createElement(r.Fragment,null,l.a.createElement("div",null,l.a.createElement("form",{onSubmit:E.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",name:"email",className:"form-control","aria-describedby":"emailHelp",onChange:E.handleChange,value:E.values.email,onBlur:E.handleBlur}),E.touched.email&&E.errors.email&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},E.errors.email)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Senha"),l.a.createElement("input",{type:"password",name:"password",className:"form-control",onChange:E.handleChange,value:E.values.password,onBlur:E.handleBlur}),E.touched.password&&E.errors.password&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},E.errors.password),l.a.createElement("button",{type:"button",onClick:e.toggle,className:"btn btn-link"},"Esqueci minha senha")),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-wide btn-block btn-primary mt-4 ".concat("ENTRAR"!==p?"disabled":"")},p)),n&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},n)))})),u=Object(n.e)((function(e){var a=Object(r.useState)(""),t=Object(s.a)(a,2),n=t[0],i=t[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),p=d[0],b=d[1],g=Object(r.useState)("CRIAR"),E=Object(s.a)(g,2),h=E[0],v=E[1],f=m.a({username:m.c().min(3,"Apelido com pelo menos ${min} caracteres").max(16,"Apelido com ${max} caracteres ou menos").required("Por favor, digite um username."),email:m.c().email("Por favor, digite um formato de email v\xe1lido.").required("Por favor, digite um email."),password:m.c().required("Digite a senha.").min(6,"Pelo menos ${min} caracteres").max(30,"No m\xe1ximo ${max} caracteres"),password2:m.c().oneOf([m.b("password"),null],"Senhas devem ser iguais")}),N=Object(o.a)({initialValues:{username:"",email:"",password:"",password2:""},onSubmit:function(e){v("CRIANDO..."),c.a.post("/register",e).then((function(e){b(e.data.message),v("CONTA CRIADA!")})).catch((function(e){i(e.response.data.error.message.message||"Desculpe, mas um erro ocorreu."),v("CRIAR")}))},validationSchema:f});return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:N.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Apelido"),l.a.createElement("input",{type:"text",name:"username",className:"form-control","aria-describedby":"UsernameHelp",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.username}),l.a.createElement("small",{className:"form-text text-muted"},"Escolha um apelido para interagir no f\xf3rum."),N.touched.username&&N.errors.username&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.username)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",name:"email",className:"form-control","aria-describedby":"emailHelp",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.email}),l.a.createElement("small",{className:"form-text text-muted"},"Seu email nunca ser\xe1 compartilhado!"),N.touched.email&&N.errors.email&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.email)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Senha"),l.a.createElement("input",{type:"password",name:"password",className:"form-control",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.password}),N.touched.password&&N.errors.password&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.password)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Repita a Senha"),l.a.createElement("input",{type:"password",name:"password2",className:"form-control",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.password2}),N.touched.password2&&N.errors.password2&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.password2)),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-wide btn-block btn-primary mt-4 ".concat("CRIANDO..."===h||"CONTA CRIADA!"===h?"disabled":"")},h)),n&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},n),p&&l.a.createElement("div",{className:"alert alert-success",role:"alert"},p))})),d=t(279),p=t.n(d),b=t(13),g=t(12),E=t(213),h=function(e){var a=Object(r.useState)(""),t=Object(s.a)(a,2),n=t[0],i=t[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),p=d[0],b=d[1],h=Object(r.useState)("Confirmar"),v=Object(s.a)(h,2),f=v[0],N=v[1],w=Object(r.useState)(!1),O=Object(s.a)(w,2),S=O[0],C=O[1],j=m.a({email:m.c().email("Por favor, digite um formato de email v\xe1lido.").required("Por favor, digite um email.")}),y=Object(o.a)({initialValues:{email:""},onSubmit:function(a){"OK"===f?e.toggle():(C(!0),i(""),c.a.post("/password/reset",a).then((function(e){C(!1),N("OK"),b(e.data.message)})).catch((function(e){C(!1),i(e.response.data.message||"Email inv\xe1lido.")})))},validationSchema:j});return l.a.createElement("span",{className:"d-inline-block mb-2 mr-2"},l.a.createElement(g.m,{isOpen:e.modal,toggle:e.toggle},l.a.createElement(g.p,{toggle:e.toggle},"Esqueci minha senha"),l.a.createElement("form",{onSubmit:y.handleSubmit},l.a.createElement(g.n,null,!p&&l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Digite seu email para resetar a senha:"),l.a.createElement("input",{type:"email",name:"email",className:"form-control","aria-describedby":"emailHelp",onChange:y.handleChange,value:y.values.email,onBlur:y.handleBlur}),y.touched.email&&y.errors.email&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},y.errors.email)),p&&l.a.createElement("div",{className:"alert alert-success",role:"alert"},p)),l.a.createElement(g.o,null,!S&&l.a.createElement(r.Fragment,null,l.a.createElement("button",{type:"submit",className:"btn btn-success"},f),!p&&l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.toggle},"Cancelar")),S&&l.a.createElement(E.a,null))),n&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},n)))},v=Object(n.e)((function(e){var a=Object(r.useState)(!1),t=Object(s.a)(a,2),n=t[0],o=t[1];Object(r.useEffect)((function(){localStorage.userToken&&e.history.push("/dashboard")}));var m=function(){o((function(e){return!e}))},c=[{title:"Login",content:l.a.createElement(i,{toggle:m})},{title:"Criar Conta",content:l.a.createElement(u,null)}];return l.a.createElement(r.Fragment,null,l.a.createElement(h,{modal:n,toggle:m}),l.a.createElement("div",{className:"loginPanel"},l.a.createElement(b.b,{to:"/"},l.a.createElement("div",{className:"logo-login margin-auto"})),l.a.createElement(p.a,{tabsWrapperClass:"body-tabs body-tabs-layout",transform:!1,showInkBar:!0,items:c.map((function(e,a){return{title:e.title,getContent:function(){return e.content},key:a}}))})))})),f=Object(n.e)((function(e){var a=Object(r.useState)(""),t=Object(s.a)(a,2),n=t[0],i=t[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),p=d[0],b=d[1],g=Object(r.useState)("RESETAR"),E=Object(s.a)(g,2),h=E[0],v=E[1],f=m.a({email:m.c().email("Por favor, digite um formato de email v\xe1lido.").required("Por favor, digite um email."),password:m.c().required("Digite a senha.").min(6,"Pelo menos ${min} caracteres").max(30,"No m\xe1ximo ${max} caracteres"),password2:m.c().oneOf([m.b("password"),null],"Senhas devem ser iguais")}),N=Object(o.a)({initialValues:{email:"",password:"",password2:"",token:e.match.params.token},onSubmit:function(a){v("RESETANDO..."),c.a.post("/password/reset/".concat(e.match.params.token),a).then((function(e){b(e.data.message),i(""),v("SENHA RESETADA!")})).catch((function(e){i(e.response.data.message||"Desculpe, mas um erro ocorreu."),v("RESETAR")}))},validationSchema:f});return l.a.createElement("div",null,!p&&l.a.createElement("form",{onSubmit:N.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",name:"email",className:"form-control","aria-describedby":"emailHelp",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.email}),l.a.createElement("small",{className:"form-text text-muted"},"Seu email cadastrado."),N.touched.email&&N.errors.email&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.email)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Nova senha"),l.a.createElement("input",{type:"password",name:"password",className:"form-control",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.password}),N.touched.password&&N.errors.password&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.password)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Repita a Senha"),l.a.createElement("input",{type:"password",name:"password2",className:"form-control",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.password2}),N.touched.password2&&N.errors.password2&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},N.errors.password2)),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-wide btn-block btn-primary mt-4 ".concat("RESETAR"!==h?"disabled":"")},h)),n&&l.a.createElement("div",{className:"alert alert-warning",role:"alert"},n),p&&l.a.createElement("div",{className:"alert alert-success",role:"alert"},p),p&&l.a.createElement("div",{className:"alert alert-info link",role:"alert",onClick:function(){return e.history.push("/login")}},"Clique aqui para ir para a tela de login."))})),N=Object(n.e)((function(e){return l.a.createElement("div",{className:"loginPanel"},l.a.createElement("div",{className:"logo-login margin-auto"}),l.a.createElement(f,null))}));a.default=function(e){var a=e.match;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"loginBack"},l.a.createElement(n.a,{exact:!0,path:"".concat(a.url),component:v}),l.a.createElement(n.a,{exact:!0,path:"".concat(a.url,"/reset/:token"),component:N})))}}}]);
//# sourceMappingURL=18.6932aea6.chunk.js.map