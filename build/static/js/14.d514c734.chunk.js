(this.webpackJsonpfrontcrivo=this.webpackJsonpfrontcrivo||[]).push([[14],{130:function(e,t,a){"use strict";var n=a(41),c=a(42),r=a(44),o=a(43),l=a(1),s=a.n(l),i=a(24),m=a(2),u=a.n(m),p=a(39),g=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.heading,a=e.icon,n=e.subheading,c=e.bgcolor,r=e.color;return s.a.createElement("div",{className:"app-page-title ".concat(c," text-white")},s.a.createElement("div",{className:"page-title-wrapper"},s.a.createElement("div",{className:"page-title-heading"},s.a.createElement("div",{className:[u()("page-title-icon"),"pl-3","text-".concat(r)].join(" ")},s.a.createElement(p.a,{icon:a})),s.a.createElement("div",null,t,s.a.createElement("div",{className:u()("page-title-subheading")},n)))))}}]),a}(l.Component);t.a=Object(i.connect)((function(e){return{enablePageTitleIcon:e.ThemeOptions.enablePageTitleIcon,enablePageTitleSubheading:e.ThemeOptions.enablePageTitleSubheading}}),(function(e){return{}}))(g)},213:function(e,t,a){"use strict";var n=a(1),c=a.n(n);t.a=Object(n.memo)((function(){return c.a.createElement("div",{className:"spinner"})}))},627:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(18),o=a(16),l=a(130),s=a(40),i=a(129),m=a.n(i),u=a(14),p=a(279),g=a.n(p),d=a(213),E=a(140),f=a(38),b=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1];return c.a.createElement("div",{className:"panel post-body ".concat(e.typePanel||"panel-default")},c.a.createElement("div",{className:"profile-post"},c.a.createElement("p",{className:"profile-username"},e.user.username),r?c.a.createElement("div",{className:"letter-user-post text-center text-dark bg-light"},e.user.username.trim().toUpperCase().charAt(0)):c.a.createElement("div",null,c.a.createElement("img",{onError:function(e){l((function(e){return!e}))},className:"img-post",src:Object(E.b)(e.user.id),alt:"img-user-post"})),c.a.createElement("p",{className:"profile-member"},"Membro desde"),c.a.createElement("p",{className:"profile-member"},Object(f.s)(e.user.created_at))),c.a.createElement("div",{className:"panel-body"},c.a.createElement("h6",null,"Postado em ",Object(f.r)(e.post.created_at)),c.a.createElement("p",null,e.post.comment)))},v=function(e){return c.a.createElement("div",{className:"panel post-editor ".concat(e.typePanel||"panel-default")},c.a.createElement("div",{className:"panel-body"},c.a.createElement("textarea",{className:"form-control post-editor-input",rows:"8",value:e.comment,placeholder:"Comente aqui :)",onChange:e.changed}),c.a.createElement("div",{className:"div-editor"},c.a.createElement("span",null,1e3-e.comment.length," / 1000"),c.a.createElement("button",{className:"btn btn-success post-editor-button",onClick:e.postar},"Postar"))))},h=function(e){for(var t,a=[],n=e.page-2,r=e.page+2+1,o=[],l=1;l<=e.lastPage;l++)(1===l||l===e.lastPage||l>=n&&l<r)&&o.push(l);o.forEach((function(e){t&&e-t>1&&a.push("..."),a.push(e),t=e}));var s=1;return c.a.createElement("nav",{"aria-label":"Page navigation"},c.a.createElement("ul",{className:"pagination justify-content-center"},1!==e.page&&c.a.createElement("li",{className:"page-item"},c.a.createElement("a",{className:"page-link",onClick:function(){return e.change(e.page-1)}},"Anterior")),a.map((function(t){return"..."==t?c.a.createElement("li",{className:"page-item disabled",key:"delta".concat(s++)},c.a.createElement("a",{className:"page-link"},"...")):c.a.createElement("li",{className:"page-item ".concat(e.page==t?"active":""),key:"page".concat(t)},c.a.createElement("a",{className:"page-link",onClick:function(){return e.change(t)}},t,e.page==t&&c.a.createElement("span",{className:"sr-only"},"(current)")))})),e.page!=e.lastPage&&c.a.createElement("li",{className:"page-item"},c.a.createElement("a",{className:"page-link",onClick:function(){return e.change(e.page+1)}},"Pr\xf3ximo"))))},N=a(49),O=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(),m=Object(o.a)(i,2),u=m[0],p=m[1],g=Object(n.useState)(!0),f=Object(o.a)(g,2),O=f[0],j=f[1],k=Object(n.useState)(),P=Object(o.a)(k,2),y=P[0],S=P[1],C=Object(n.useState)(""),A=Object(o.a)(C,2),T=A[0],F=A[1],_=Object(n.useState)(""),w=Object(o.a)(_,2),x=w[0],I=w[1],V=function(e){isNaN(e)||l(e)},z={position:"bottom-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},B=function(){j(!0);var t="/posts/".concat(e.fii,"/").concat(e.secao,"/last");s.a.get(t).then((function(e){j(!1),S(e.data.posts.data),l(e.data.posts.page),p(e.data.posts.lastPage)})).catch((function(e){j(!1)}))};return Object(n.useEffect)((function(){r?function(){j(!0);var t="/posts/".concat(e.fii,"/").concat(e.secao,"/").concat(r);s.a.get(t).then((function(e){j(!1),S(e.data.posts.data),l(e.data.posts.page),p(e.data.posts.lastPage)}))}():B()}),[r]),c.a.createElement("div",null,y&&y.length>0&&c.a.createElement(n.Fragment,null,u>1&&c.a.createElement(h,{page:r,lastPage:u,change:V}),y.map((function(e){return c.a.createElement(b,{post:e,key:e.id,user:e.user})}))),y&&0==y.length&&c.a.createElement(n.Fragment,null,c.a.createElement("h4",{className:"no-post"},"Ainda n\xe3o foram criados posts. Seja o primeiro!")),O&&c.a.createElement(d.a,null),u>1&&c.a.createElement(h,{page:r,lastPage:u,change:V}),c.a.createElement(v,{comment:T,changed:function(e){e.target.value.length<=1e3&&F(e.target.value)},postar:function(){j(!0),I("");var t=Object(E.c)();return t?T?T.length>1e3?(j(!1),void I("Esse coment\xe1rio est\xe1 muito grande.")):void(t&&s.a.post("/posts/insert",{id:t,fii:e.fii,secao:e.secao,comment:T,token:localStorage.userToken}).then((function(e){j(!1),N.toast.success("Coment\xe1rio postado!",z),F(""),B()})).catch((function(e){j(!1),I("Algo deu errado.")}))):(j(!1),void I("Voc\xea n\xe3o pode comentar algo vazio.")):(j(!1),void N.toast.error("Voc\xea precisa estar logado para participar do f\xf3rum.",z))}}),x&&c.a.createElement("div",{className:"alert alert-danger",role:"alert"},x))},j=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],i=a[1],p=Object(n.useState)(!0),d=Object(o.a)(p,2),E=d[0],f=d[1],b=Object(n.useState)(""),v=Object(o.a)(b,2),h=v[0],N=v[1],j=e.match.params.fii,k=[{title:"Geral",content:c.a.createElement(O,{secao:1,fii:j})},{title:"Eventos",content:c.a.createElement(O,{secao:2,fii:j})},{title:"Proventos",content:c.a.createElement(O,{secao:3,fii:j})},{title:"Vac\xe2ncia",content:c.a.createElement(O,{secao:4,fii:j})},{title:"Relat\xf3rios",content:c.a.createElement(O,{secao:5,fii:j})},{title:"Ativos F\xedsicos",content:c.a.createElement(O,{secao:6,fii:j})},{title:"Ativos Financeiros",content:c.a.createElement(O,{secao:7,fii:j})},{title:"Outros",content:c.a.createElement(O,{secao:8,fii:j})}];return Object(n.useEffect)((function(){var e="/dados/alugueis/".concat(j);s.a.get(e).then((function(e){f(!1),i(e.data)})).catch((function(e){f(!1),N(e.response.data.message)}))}),[]),c.a.createElement(n.Fragment,null,c.a.createElement(m.a,{component:"div",transitionName:"TabsAnimation",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1},r&&c.a.createElement(n.Fragment,null,c.a.createElement(l.a,{heading:"F\xf3rum para discuss\xe3o de ".concat(r.razao_social," (").concat(r.codigo,")"),subheading:"",icon:"comments",bgcolor:r.segmento.bgcolor,color:r.segmento.color}),c.a.createElement(g.a,{tabsWrapperClass:"body-tabs body-tabs-layout",transform:!1,showInkBar:!0,items:k.map((function(e,t){return{title:e.title,getContent:function(){return e.content},key:t}}))})),E&&c.a.createElement(u.a,null),h&&c.a.createElement("div",{className:"alert alert-danger"},c.a.createElement("p",null,h))))},k=a(143),P=a(144),y=a(141);t.default=function(e){var t=e.match;return c.a.createElement(n.Fragment,null,c.a.createElement(k.a,null),c.a.createElement("div",{className:"app-main"},c.a.createElement(P.a,null),c.a.createElement("div",{className:"app-main__outer"},c.a.createElement("div",{className:"app-main__inner"},c.a.createElement(r.a,{path:"".concat(t.path),component:j})),c.a.createElement(y.a,null))))}}}]);
//# sourceMappingURL=14.d514c734.chunk.js.map